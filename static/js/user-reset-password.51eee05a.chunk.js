(this["webpackJsonpsmartnative-user-frontend"]=this["webpackJsonpsmartnative-user-frontend"]||[]).push([[16],{110:function(e,s,a){"use strict";var t=a(2),c=(a(6),a(213)),r=a(147),n=a(17);s.a=Object(r.c)((function(e){return Object(n.jsx)(c.a,Object(t.a)({},e))}),{withRef:!1})},113:function(e,s,a){"use strict";a.d(s,"a",(function(){return n})),a.d(s,"b",(function(){return l}));var t=a(2),c=(a(6),a(181)),r=a(17),n=function(e){return Object(r.jsx)(c.a,Object(t.a)(Object(t.a)({},e),{},{widths:["xxs","xs","sm","md","lg","xl","xxl"]}))},l=function(e){var s=e.className;return Object(r.jsx)("div",{className:"separator ".concat(s)})}},144:function(e,s,a){"use strict";var t=a(3),c=a.n(t),r=a(12),n=a(114),l=a(6),i=a(13),o=a(9);s.a=function(e){var s=e.url,a=e.method,t=e.data,j=e.headers,b=e.nextSuccess,d=e.nextError,u=Object(l.useState)(""),O=Object(n.a)(u,2),m=O[0],x=O[1],h=Object(l.useState)(!1),f=Object(n.a)(h,2),p=f[0],N=f[1],w=Object(l.useState)(""),v=Object(n.a)(w,2),g=v[0],P=v[1];return[function(){var e=Object(r.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(null),N(!0),e.next=5,Object(i.a)({url:s,method:a,headers:j,data:t});case 5:(r=e.sent).data.success?(b&&b(r.data),N(!1),x(r.data.data)):(d&&d(r.data.error),N(!1),P(r.data.error)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.g)(e.t0),N(!1),P(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),p,g,m]}},324:function(e,s,a){"use strict";a.r(s);var t=a(114),c=a(6),r=a(182),n=a(183),l=a(184),i=a(143),o=a(151),j=a(240),b=a(112),d=a(138),u=a(29),O=a(113),m=a(110),x=a(1),h=a(122),f=a(17),p=function(e){var s=e.newPassword,a=e.newPasswordAgain,t={};return a&&s!==a&&(t.newPasswordAgain="Please check your new password"),t};s.default=Object(u.b)((function(e){var s=e.authUser;return{newPassword:s.newPassword,resetPasswordCode:s.resetPasswordCode,loading:s.loading,error:s.error}}),{resetPasswordAction:x.U})((function(e){var s=e.history,a=e.loading,u=e.error,x=e.resetPasswordAction,N=Object(c.useState)(""),w=Object(t.a)(N,1)[0],v=Object(c.useState)(""),g=Object(t.a)(v,1)[0],P=Object(c.useState)(""),y=Object(t.a)(P,1)[0];Object(c.useEffect)((function(){u?h.b.warning(u,"Forgot Password Error",3e3,null,null,""):a||"success"!==g||h.b.success("Please login with your new password.","Reset Password Success",3e3,null,null,"")}),[u,a,g]);var T={OTP:w,newPassword:g,newPasswordAgain:y};return Object(f.jsx)(r.a,{className:"h-100",children:Object(f.jsx)(O.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(f.jsxs)(n.a,{className:"auth-card",children:[Object(f.jsxs)("div",{className:"position-relative image-side ",children:[Object(f.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(f.jsxs)("p",{className:"white mb-0",children:["Please use your e-mail to reset your password. ",Object(f.jsx)("br",{}),"If you are not a member, please"," ",Object(f.jsx)(b.c,{to:"/register",className:"white",children:"register"}),"."]})]}),Object(f.jsxs)("div",{className:"form-side",children:[Object(f.jsx)(b.c,{to:"/",className:"white",children:Object(f.jsx)("span",{className:"logo-single"})}),Object(f.jsx)(l.a,{className:"mb-4",children:Object(f.jsx)(m.a,{id:"user.reset-password"})}),Object(f.jsx)(d.c,{validate:p,initialValues:T,onSubmit:function(e){a||""!==e.newPassword&&""!==e.OTP&&x({OTP:e.OTP,newPassword:e.newPassword,history:s})},children:function(e){var s=e.errors,t=e.touched;return Object(f.jsxs)(d.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(f.jsxs)(i.a,{className:"form-group has-float-label",children:[Object(f.jsx)(o.a,{children:Object(f.jsx)(m.a,{id:"user.otp"})}),Object(f.jsx)(d.a,{className:"form-control",name:"OTP"})]}),Object(f.jsxs)(i.a,{className:"form-group has-float-label",children:[Object(f.jsx)(o.a,{children:Object(f.jsx)(m.a,{id:"user.new-password"})}),Object(f.jsx)(d.a,{className:"form-control",name:"newPassword",type:"password"})]}),Object(f.jsxs)(i.a,{className:"form-group has-float-label",children:[Object(f.jsx)(o.a,{children:Object(f.jsx)(m.a,{id:"user.new-password-again"})}),Object(f.jsx)(d.a,{className:"form-control",name:"newPasswordAgain",type:"password"}),s.newPasswordAgain&&t.newPasswordAgain&&Object(f.jsx)("div",{className:"invalid-feedback d-block",children:s.newPasswordAgain})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(f.jsx)(b.c,{to:"/user/login",children:Object(f.jsx)(m.a,{id:"user.login-title"})}),Object(f.jsxs)(j.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(a?"show-spinner":""),size:"lg",children:[Object(f.jsxs)("span",{className:"spinner d-inline-block",children:[Object(f.jsx)("span",{className:"bounce1"}),Object(f.jsx)("span",{className:"bounce2"}),Object(f.jsx)("span",{className:"bounce3"})]}),Object(f.jsx)("span",{className:"label",children:Object(f.jsx)(m.a,{id:"user.reset-password-button"})})]})]})]})}})]})]})})})}))},451:function(e,s,a){"use strict";a.r(s);var t=a(114),c=a(6),r=a(182),n=a(183),l=a(184),i=a(143),o=a(151),j=a(240),b=a(138),d=a(29),u=a(113),O=a(110),m=a(1),x=a(122),h=(a(324),a(17)),f={verifyOTPAction:m.W};s.default=Object(d.b)((function(e){var s=e.authUser;return{OTP:s.OTP,loading:s.loading,error:s.error}}),f)((function(e){var s=e.loading,a=e.error,d=Object(c.useState)(""),m=Object(t.a)(d,1)[0];Object(c.useEffect)((function(){a&&x.b.error(a,"OTP Verification Error",3e3,null,null,"")}),[a]);var f={OTP:m};return Object(h.jsx)(r.a,{className:"h-100",children:Object(h.jsx)(u.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(h.jsxs)(n.a,{className:"auth-card",children:[Object(h.jsxs)("div",{className:"position-relative image-side ",children:[Object(h.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(h.jsxs)("p",{className:"white mb-0",children:["Please enter the OTP sent to your email. ",Object(h.jsx)("br",{})]})]}),Object(h.jsxs)("div",{className:"form-side",children:[Object(h.jsx)("span",{className:"logo-single"}),Object(h.jsx)(l.a,{className:"mb-4",children:Object(h.jsx)(O.a,{id:"user.verify-otp"})}),Object(h.jsx)(b.c,{initialValues:f,onSubmit:function(e){""!==e.OTP&&e.OTP},children:function(e){var a=e.errors,t=e.touched;return Object(h.jsxs)(b.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(h.jsxs)(i.a,{className:"form-group has-float-label",children:[Object(h.jsx)(o.a,{children:Object(h.jsx)(O.a,{id:"user.otp"})}),Object(h.jsx)(b.a,{className:"form-control",name:"OTP"}),a.OTP&&t.OTP&&Object(h.jsx)("div",{className:"invalid-feedback d-block",children:a.OTP})]}),Object(h.jsx)("div",{className:"d-flex justify-content-end align-items-center",children:Object(h.jsxs)(j.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(s?"show-spinner":""),size:"lg",children:[Object(h.jsxs)("span",{className:"spinner d-inline-block",children:[Object(h.jsx)("span",{className:"bounce1"}),Object(h.jsx)("span",{className:"bounce2"}),Object(h.jsx)("span",{className:"bounce3"})]}),Object(h.jsx)("span",{className:"label",children:Object(h.jsx)(O.a,{id:"user.verify-otp-button"})})]})})]})}})]})]})})})}))},452:function(e,s,a){"use strict";a.r(s);var t=a(2),c=a(114),r=a(6),n=a(240),l=a(182),i=a(183),o=a(184),j=a(143),b=a(151),d=a(138),u=a(325),O=a(29),m=a(113),x=a(110),h=a(1),f=a(122),p=a(144),N=a(17),w=function(){var e={email:window.localStorage.getItem("_email")},s=Object(p.a)({url:"/auth/resendOtp",method:"POST",data:e,nextSuccess:function(){f.b.success("OTP reset Successful!","Verify OTP Success",3e3,null,null,""),window.location.reload()}}),a=Object(c.a)(s,1)[0],t=function(){a()};return Object(N.jsx)(u.a,{date:Date.now()+3e4,renderer:function(e){var s=e.hours,a=e.minutes,c=e.seconds,r=e.completed;return Object(N.jsx)(n.a,{className:"btn-shadow btn btn-primary btn-lg mx-2",onClick:r?t:function(){},disabled:!r,children:r?"Resend OTP":"".concat(Object(u.b)(s),":").concat(Object(u.b)(a),":").concat(Object(u.b)(c))})}})},v=Object(r.memo)(w),g={verifyOTPAction:h.W};s.default=Object(O.b)((function(e){var s=e.authUser;return{OTP:s.OTP,loading:s.loading,error:s.error}}),g)((function(e){var s=e.history,a=e.loading,u=e.error,O=e.verifyOTPAction,h=Object(r.useState)(""),p=Object(c.a)(h,1)[0];Object(r.useEffect)((function(){u&&f.b.error(u,"OTP Verification Error",3e3,null,null,"")}),[u]);var w={OTP:p};return Object(N.jsx)(l.a,{className:"h-100",children:Object(N.jsx)(m.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(N.jsxs)(i.a,{className:"auth-card",children:[Object(N.jsxs)("div",{className:"position-relative image-side ",children:[Object(N.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(N.jsxs)("p",{className:"white mb-0",children:["Please enter the OTP sent to your email. ",Object(N.jsx)("br",{})]})]}),Object(N.jsxs)("div",{className:"form-side",children:[Object(N.jsx)("span",{className:"logo-single"}),Object(N.jsx)(o.a,{className:"mb-4",children:Object(N.jsx)(x.a,{id:"user.verify-otp"})}),Object(N.jsx)(d.c,{initialValues:w,onSubmit:function(e){""!==e.OTP&&O(Object(t.a)(Object(t.a)({},e),{},{history:s}))},children:function(e){var s=e.errors,t=e.touched;return Object(N.jsxs)(d.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(N.jsxs)(j.a,{className:"form-group has-float-label",children:[Object(N.jsx)(b.a,{children:Object(N.jsx)(x.a,{id:"user.otp"})}),Object(N.jsx)(d.a,{className:"form-control",name:"OTP"}),s.OTP&&t.OTP&&Object(N.jsx)("div",{className:"invalid-feedback d-block",children:s.OTP})]}),Object(N.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[Object(N.jsx)(v,{}),Object(N.jsxs)(n.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(a?"show-spinner":""),size:"lg",children:[Object(N.jsxs)("span",{className:"spinner d-inline-block",children:[Object(N.jsx)("span",{className:"bounce1"}),Object(N.jsx)("span",{className:"bounce2"}),Object(N.jsx)("span",{className:"bounce3"})]}),Object(N.jsx)("span",{className:"label",children:Object(N.jsx)(x.a,{id:"user.verify-otp-button"})})]})]})]})}})]})]})})})}))},463:function(e,s,a){"use strict";a.r(s);var t=a(114),c=a(6),r=a(182),n=a(189),l=a(29),i=a(1),o=a(122),j=a(2),b=a(138),d=a(183),u=a(320),O=a(184),m=a(143),x=a(151),h=a(240),f=a(110),p=a(17),N=function(e){var s=Object.assign({},e),a=Object(b.d)(s),c=Object(t.a)(a,2),r=c[0],n=c[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("textarea",Object(j.a)(Object(j.a)({className:"text-area"},r),s)),n.touched&&n.error?Object(p.jsx)("div",{className:"error",children:n.error}):null]})},w=function(e){var s;return e?e.length<2&&(s="Value must be longer than 2 characters"):s="Please enter your name",s},v=function(e){var s;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(s="Invalid email address"):s="Please enter your email address",s},g=function(e){var s=e.addProfileAction,a=e.history,t=e.currentUser,c=e.initialValues,r=e.loading;return Object(p.jsx)(d.a,{children:Object(p.jsxs)(u.a,{className:"wizard-basic-step",children:[Object(p.jsx)(O.a,{className:"mb-4",children:Object(p.jsx)("h2",{className:"lead",children:Object(p.jsx)(f.a,{id:"user.profile-form"})})}),Object(p.jsx)(b.c,{initialValues:c,onSubmit:function(e){var c=t.id,r=t.phone_number,n=Object(j.a)(Object(j.a)({},e),{},{userID:c,contactNo:r});s({profile:n,history:a})},children:function(e){var s=e.errors,a=e.touched;return Object(p.jsxs)(b.b,{className:"av-tooltip tooltip-label-right",children:[Object(p.jsxs)(m.a,{children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(f.a,{id:"user.fullname"})}),Object(p.jsx)(b.a,{className:"form-control",name:"fullName",validate:w}),s.fullName&&a.fullName&&Object(p.jsx)("div",{className:"invalid-feedback d-block",children:s.fullName})]}),Object(p.jsxs)(m.a,{children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(f.a,{id:"user.email"})}),Object(p.jsx)(b.a,{className:"form-control",name:"email",validate:v}),s.name&&a.name&&Object(p.jsx)("div",{className:"invalid-feedback d-block",children:s.name})]}),Object(p.jsxs)(m.a,{children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(f.a,{id:"about"})}),Object(p.jsx)(N,{className:"form-control",name:"about",rows:"6"}),s.name&&a.name&&Object(p.jsx)("div",{className:"invalid-feedback d-block",children:s.name})]}),Object(p.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(p.jsxs)(h.a,{color:"primary",type:"submit",className:"btn-shadow btn-multiple-state ".concat(r?"show-spinner":""),size:"lg",children:[Object(p.jsxs)("span",{className:"spinner d-inline-block",children:[Object(p.jsx)("span",{className:"bounce1"}),Object(p.jsx)("span",{className:"bounce2"}),Object(p.jsx)("span",{className:"bounce3"})]}),Object(p.jsx)("span",{className:"label",children:Object(p.jsx)(f.a,{id:"forms.submit"})})]})})]})}})]})})},P=a(113),y={addProfileAction:i.I};s.default=Object(l.b)((function(e){var s=e.authUser;return{loading:s.loading,error:s.error,message:s.message,currentUser:s.currentUser}}),y)((function(e){var s=e.history,a=e.loading,l=e.error,i=e.currentUser,j=e.message,b=e.addProfileAction,d=Object(c.useState)(""),u=Object(t.a)(d,1)[0],O=Object(c.useState)(""),m=Object(t.a)(O,1)[0],x=Object(c.useState)(""),h=Object(t.a)(x,1)[0];Object(c.useEffect)((function(){l&&o.b.error(l,"Registration Error",3e3,null,null,""),a||"New profile added"!==j||o.b.success("Click next","Profile Added Successfully",3e3,null,null,"")}),[a,l,j]);var f={fullName:u,email:m,about:h};return Object(p.jsx)(r.a,{className:"h-100",children:Object(p.jsx)(P.a,{xxs:"12",md:"8",className:"mx-auto my-auto wizard wizard-default",children:Object(p.jsx)(n.Wizard,{children:Object(p.jsx)(g,{addProfileAction:b,history:s,currentUser:i,initialValues:f,message:j,loading:a})})})})}))}}]);
//# sourceMappingURL=user-reset-password.51eee05a.chunk.js.map